function M(e,t){e.classList.toggle(t)}function P(e,t){return e.classList.contains(t)}function b(){return P(document.documentElement,"dark")}const C="modulepreload",I=function(e){return"/"+e},y={},r=function(t,n,o){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=a?.nonce||a?.getAttribute("nonce");s=Promise.all(n.map(l=>{if(l=I(l),l in y)return;y[l]=!0;const p=l.endsWith(".css"),R=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${R}`))return;const d=document.createElement("link");if(d.rel=p?"stylesheet":C,p||(d.as="script",d.crossOrigin=""),d.href=l,i&&d.setAttribute("nonce",i),document.head.appendChild(d),p)return new Promise((v,O)=>{d.addEventListener("load",v),d.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>t()).catch(a=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a})};typeof process<"u"&&process.stdout&&process.stdout.isTTY;const{replace:$}="",D=/[&<>'"]/g,k={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},B=e=>k[e],H=e=>$.call(e,D,B);function re(e){return!!e&&typeof e=="object"&&typeof e.then=="function"}async function*V(e){const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)return;yield o}}finally{t.releaseLock()}}const se=H;class w extends Uint8Array{}Object.defineProperty(w.prototype,Symbol.toStringTag,{get(){return"HTMLBytes"}});class g extends String{get[Symbol.toStringTag](){return"HTMLString"}}const c=e=>e instanceof g?e:typeof e=="string"?new g(e):e;function ie(e){return Object.prototype.toString.call(e)==="[object HTMLString]"}function x(e){return new w(e)}function L(e){return typeof e.getReader=="function"}async function*_(e){if(L(e))for await(const t of V(e))yield m(t);else for await(const t of e)yield m(t)}function*U(e){for(const t of e)yield m(t)}function m(e){if(e&&typeof e=="object"){if(e instanceof Uint8Array)return x(e);if(e instanceof Response&&e.body){const t=e.body;return _(t)}else{if(typeof e.then=="function")return Promise.resolve(e).then(t=>m(t));if(e[Symbol.for("astro:slot-string")])return e;if(Symbol.iterator in e)return U(e);if(Symbol.asyncIterator in e||L(e))return _(e)}}return c(e)}function T(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=T(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function q(){for(var e,t,n=0,o="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=T(e))&&(o&&(o+=" "),o+=t);return o}const j=/^(?:allowfullscreen|async|autofocus|autoplay|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|itemscope)$/i,G=/^(?:contenteditable|draggable|spellcheck|value)$/i,N=/^(?:autoReverse|externalResourcesRequired|focusable|preserveAlpha)$/i,W=/&/g,F=/"/g,K=new Set(["set:html","set:text"]),u=(e,t=!0)=>t?String(e).replace(W,"&#38;").replace(F,"&#34;"):e,z=e=>e.toLowerCase()===e?e:e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),E=e=>Object.entries(e).filter(([t,n])=>typeof n=="string"&&n.trim()||typeof n=="number").map(([t,n])=>t[0]!=="-"&&t[1]!=="-"?`${z(t)}:${n}`:`${t}:${n}`).join(";");function ce(e,t,n=!0){if(e==null)return"";if(e===!1)return G.test(t)||N.test(t)?c(` ${t}="false"`):"";if(K.has(t))return console.warn(`[astro] The "${t}" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.

Make sure to use the static attribute syntax (\`${t}={value}\`) instead of the dynamic spread syntax (\`{...{ "${t}": value }}\`).`),"";if(t==="class:list"){const o=u(q(e),n);return o===""?"":c(` ${t.slice(0,-5)}="${o}"`)}if(t==="style"&&!(e instanceof g)){if(Array.isArray(e)&&e.length===2)return c(` ${t}="${u(`${E(e[0])};${e[1]}`,n)}"`);if(typeof e=="object")return c(` ${t}="${u(E(e),n)}"`)}return t==="className"?c(` class="${u(e,n)}"`):typeof e=="string"&&e.includes("&")&&Z(e)?c(` ${t}="${u(e,!1)}"`):e===!0&&(t.startsWith("data-")||j.test(t))?c(` ${t}`):c(` ${t}="${u(e,n)}"`)}const X=()=>{};class Q{chunks=[];renderPromise;destination;constructor(t){this.renderPromise=t(this),Promise.resolve(this.renderPromise).catch(X)}write(t){this.destination?this.destination.write(t):this.chunks.push(t)}async renderToFinalDestination(t){for(const n of this.chunks)t.write(n);this.destination=t,await this.renderPromise}}function ae(e){return new Q(e)}typeof process<"u"&&Object.prototype.toString.call(process);const Y=["http:","https:"];function Z(e){try{const t=new URL(e);return Y.includes(t.protocol)}catch{return!1}}new TextEncoder;new TextDecoder;function le(e){return!!e&&typeof e=="object"&&"render"in e&&typeof e.render=="function"}"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("").reduce((e,t)=>(e[t.charCodeAt(0)]=t,e),[]);"-0123456789_".split("").reduce((e,t)=>(e[t.charCodeAt(0)]=t,e),[]);function f({globResult:e,contentDir:t}){const n={};for(const o in e){const a=o.replace(new RegExp(`^${t}`),"").split("/");if(a.length<=1)continue;const i=a[0];n[i]??={},n[i][o]=e[o]}return n}const h="/src/content/",S=Object.assign({"/src/content/post/building-gpu-service-1.md":()=>r(()=>import("./building-gpu-service-1.DbmnVl6p.js"),[]),"/src/content/post/building-gpu-service-2.md":()=>r(()=>import("./building-gpu-service-2.DGFchPRb.js"),[]),"/src/content/post/building-gpu-service-3.md":()=>r(()=>import("./building-gpu-service-3.DTK2vFAh.js"),[]),"/src/content/post/ceph-mds.md":()=>r(()=>import("./ceph-mds.sbX0m3xu.js"),[]),"/src/content/post/golang-http-url.md":()=>r(()=>import("./golang-http-url.gEHQw4uA.js"),[]),"/src/content/post/reduce-image-size.md":()=>r(()=>import("./reduce-image-size.DgBqKGEQ.js"),[])});f({globResult:S,contentDir:h});const A=Object.assign({});f({globResult:A,contentDir:h});f({globResult:{...S,...A},contentDir:h});const J=Object.assign({"/src/content/post/building-gpu-service-1.md":()=>r(()=>import("./building-gpu-service-1.azWgCngJ.js"),[]),"/src/content/post/building-gpu-service-2.md":()=>r(()=>import("./building-gpu-service-2.e9lXTXu6.js"),[]),"/src/content/post/building-gpu-service-3.md":()=>r(()=>import("./building-gpu-service-3.D6JtzCNo.js"),[]),"/src/content/post/ceph-mds.md":()=>r(()=>import("./ceph-mds.BBdHw2B6.js"),[]),"/src/content/post/golang-http-url.md":()=>r(()=>import("./golang-http-url.XjBIb3hK.js"),[]),"/src/content/post/reduce-image-size.md":()=>r(()=>import("./reduce-image-size.Bm4LRpHF.js"),[])});f({globResult:J,contentDir:h});console.warn("astro:content is only supported running server-side. Using it in the browser will lead to bloated bundles and slow down page load. In the future it will not be supported.");const ee="https://astro-cactus.chriswilliams.dev/";new URL(ee).hostname;class te extends HTMLElement{headerEl;mobileButtonEl;menuOpen;constructor(){super(),this.headerEl=document.getElementById("main-header"),this.mobileButtonEl=this.querySelector("button"),this.menuOpen=!1,this.mobileButtonEl.addEventListener("click",this.toggleMobileMenu)}toggleMobileMenu=()=>{M(this.headerEl,"menu-open"),this.menuOpen=!this.menuOpen,this.mobileButtonEl.setAttribute("aria-expanded",this.menuOpen.toString())}}customElements.define("mobile-button",te);class ne extends HTMLElement{button;observer;constructor(){super(),this.button=this.querySelector("button"),this.observer=null,this.button.setAttribute("aria-pressed",String(b())),this.button.addEventListener("click",this.handleThemeBtnClick)}connectedCallback(){const t=document.documentElement;this.observer=new MutationObserver(n=>{for(const o of n)if(o.type==="attributes"&&o.attributeName==="class"){const s=o.target.classList.contains("dark");this.button.setAttribute("aria-pressed",String(s))}}),this.observer.observe(t,{attributeFilter:["class"]})}disconnectedCallback(){this.observer?.disconnect()}handleThemeBtnClick=()=>{let t=b(),n=new CustomEvent("theme-change",{detail:{theme:t?"light":"dark"}});document.dispatchEvent(n)}}customElements.define("theme-toggle",ne);class oe extends HTMLElement{openBtn;closeBtn;dialog;dialogFrame;constructor(){super(),this.openBtn=this.querySelector("button[data-open-modal]"),this.closeBtn=this.querySelector("button[data-close-modal]"),this.dialog=this.querySelector("dialog"),this.dialogFrame=this.querySelector(".dialog-frame"),this.openBtn.addEventListener("click",this.openModal),this.openBtn.disabled=!1,this.closeBtn.addEventListener("click",this.closeModal)}connectedCallback(){window.addEventListener("keydown",this.onWindowKeydown),(window.requestIdleCallback||(n=>setTimeout(n,1)))(async()=>{const{PagefindUI:n}=await r(()=>import("./ui-core.DuoQCHeF.js"),[]);new n({element:"#cactus__search",baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",showImages:!1,showSubResults:!0})})}disconnectedCallback(){window.removeEventListener("keydown",this.onWindowKeydown)}onWindowClick=t=>{("href"in(t.target||{})||document.body.contains(t.target)&&!this.dialogFrame.contains(t.target))&&this.closeModal()};onWindowKeydown=t=>{t.key==="/"&&!this.dialog.open&&(this.openModal(),t.preventDefault())};openModal=t=>{this.dialog.showModal(),this.querySelector("input")?.focus(),t?.stopPropagation(),window.addEventListener("click",this.onWindowClick)};closeModal=()=>{this.dialog.open&&(this.dialog.close(),window.removeEventListener("click",this.onWindowClick))}}customElements.define("site-search",oe);export{g as H,r as _,ie as a,le as b,ce as c,se as e,re as i,c as m,ae as r,m as u};
