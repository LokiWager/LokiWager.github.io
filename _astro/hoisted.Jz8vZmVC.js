function R(e,t){e.classList.toggle(t)}function A(e,t){return e.classList.contains(t)}function y(){return A(document.documentElement,"dark")}const k="modulepreload",$=function(e){return"/"+e},w={},l=function(t,n,o){let i=Promise.resolve();if(n&&n.length>0){const r=document.getElementsByTagName("link");i=Promise.all(n.map(s=>{if(s=$(s),s in w)return;w[s]=!0;const u=s.endsWith(".css"),M=u?'[rel="stylesheet"]':"";if(!!o)for(let d=r.length-1;d>=0;d--){const h=r[d];if(h.href===s&&(!u||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${M}`))return;const a=document.createElement("link");if(a.rel=u?"stylesheet":k,u||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),u)return new Promise((d,h)=>{a.addEventListener("load",d),a.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})}))}return i.then(()=>t()).catch(r=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=r,window.dispatchEvent(s),!s.defaultPrevented)throw r})};typeof process<"u"&&process.stdout&&process.stdout.isTTY;const{replace:B}="",I=/[&<>'"]/g,O={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},D=e=>O[e],P=e=>B.call(e,I,D);function Q(e){return!!e&&typeof e=="object"&&typeof e.then=="function"}async function*H(e){const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)return;yield o}}finally{t.releaseLock()}}const X=P;class T extends Uint8Array{}Object.defineProperty(T.prototype,Symbol.toStringTag,{get(){return"HTMLBytes"}});class b extends String{get[Symbol.toStringTag](){return"HTMLString"}}const c=e=>e instanceof b?e:typeof e=="string"?new b(e):e;function ee(e){return Object.prototype.toString.call(e)==="[object HTMLString]"}function x(e){return new T(e)}function L(e){return typeof e.getReader=="function"}async function*E(e){if(L(e))for await(const t of H(e))yield m(t);else for await(const t of e)yield m(t)}function*j(e){for(const t of e)yield m(t)}function m(e){if(e&&typeof e=="object"){if(e instanceof Uint8Array)return x(e);if(e instanceof Response&&e.body){const t=e.body;return E(t)}else{if(typeof e.then=="function")return Promise.resolve(e).then(t=>m(t));if(Symbol.iterator in e)return j(e);if(Symbol.asyncIterator in e||L(e))return E(e)}}return c(e)}function S(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=S(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function q(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=S(e))&&(o&&(o+=" "),o+=t);return o}const V=/^(?:allowfullscreen|async|autofocus|autoplay|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|itemscope)$/i,W=/^(?:contenteditable|draggable|spellcheck|value)$/i,U=/^(?:autoReverse|externalResourcesRequired|focusable|preserveAlpha)$/i,G=new Set(["set:html","set:text"]),f=(e,t=!0)=>t?String(e).replace(/&/g,"&#38;").replace(/"/g,"&#34;"):e,F=e=>e.toLowerCase()===e?e:e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),_=e=>Object.entries(e).filter(([t,n])=>typeof n=="string"&&n.trim()||typeof n=="number").map(([t,n])=>t[0]!=="-"&&t[1]!=="-"?`${F(t)}:${n}`:`${t}:${n}`).join(";");function te(e,t,n=!0){if(e==null)return"";if(e===!1)return W.test(t)||U.test(t)?c(` ${t}="false"`):"";if(G.has(t))return console.warn(`[astro] The "${t}" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.

Make sure to use the static attribute syntax (\`${t}={value}\`) instead of the dynamic spread syntax (\`{...{ "${t}": value }}\`).`),"";if(t==="class:list"){const o=f(q(e),n);return o===""?"":c(` ${t.slice(0,-5)}="${o}"`)}if(t==="style"&&!(e instanceof b)){if(Array.isArray(e)&&e.length===2)return c(` ${t}="${f(`${_(e[0])};${e[1]}`,n)}"`);if(typeof e=="object")return c(` ${t}="${f(_(e),n)}"`)}return t==="className"?c(` class="${f(e,n)}"`):e===!0&&(t.startsWith("data-")||V.test(t))?c(` ${t}`):c(` ${t}="${f(e,n)}"`)}function ne(e){const t=[],n={write:i=>t.push(i)},o=e(n);return{async renderToFinalDestination(i){for(const r of t)i.write(r);n.write=r=>i.write(r),await o}}}typeof process<"u"&&Object.prototype.toString.call(process);new TextEncoder;new TextDecoder;function oe(e){return!!e&&typeof e=="object"&&"render"in e&&typeof e.render=="function"}"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("").reduce((e,t)=>(e[t.charCodeAt(0)]=t,e),[]);"-0123456789_".split("").reduce((e,t)=>(e[t.charCodeAt(0)]=t,e),[]);function p({globResult:e,contentDir:t}){const n={};for(const o in e){const r=o.replace(new RegExp(`^${t}`),"").split("/");if(r.length<=1)continue;const s=r[0];n[s]??={},n[s][o]=e[o]}return n}const g="/src/content/",v=Object.assign({"/src/content/post/building-gpu-service-1.md":()=>l(()=>import("./building-gpu-service-1.CBRIApiR.js"),__vite__mapDeps([])),"/src/content/post/ceph-mds.md":()=>l(()=>import("./ceph-mds.HjegPZ29.js"),__vite__mapDeps([])),"/src/content/post/golang-http-url.md":()=>l(()=>import("./golang-http-url.5QMMnyl5.js"),__vite__mapDeps([]))});p({globResult:v,contentDir:g});const C=Object.assign({});p({globResult:C,contentDir:g});p({globResult:{...v,...C},contentDir:g});const N=Object.assign({"/src/content/post/building-gpu-service-1.md":()=>l(()=>import("./building-gpu-service-1.np3zvlEY.js"),__vite__mapDeps([])),"/src/content/post/ceph-mds.md":()=>l(()=>import("./ceph-mds.90P3O8Bc.js"),__vite__mapDeps([])),"/src/content/post/golang-http-url.md":()=>l(()=>import("./golang-http-url.MY9fVSbB.js"),__vite__mapDeps([]))});p({globResult:N,contentDir:g});const K="https://astro-cactus.chriswilliams.dev/";new URL(K).hostname;class Y extends HTMLElement{headerEl;mobileButtonEl;menuOpen;constructor(){super(),this.headerEl=document.getElementById("main-header"),this.mobileButtonEl=this.querySelector("button"),this.menuOpen=!1,this.mobileButtonEl.addEventListener("click",this.toggleMobileMenu)}toggleMobileMenu=()=>{R(this.headerEl,"menu-open"),this.menuOpen=!this.menuOpen,this.mobileButtonEl.setAttribute("aria-expanded",this.menuOpen.toString())}}customElements.define("mobile-button",Y);class Z extends HTMLElement{button;observer;constructor(){super(),this.button=this.querySelector("button"),this.observer=null,this.button.setAttribute("aria-pressed",String(y())),this.button.addEventListener("click",this.handleThemeBtnClick)}connectedCallback(){const t=document.documentElement;this.observer=new MutationObserver(n=>{for(const o of n)if(o.type==="attributes"&&o.attributeName==="class"){const i=o.target.classList.contains("dark");this.button.setAttribute("aria-pressed",String(i))}}),this.observer.observe(t,{attributeFilter:["class"]})}disconnectedCallback(){this.observer?.disconnect()}handleThemeBtnClick=()=>{let t=y(),n=new CustomEvent("theme-change",{detail:{theme:t?"light":"dark"}});document.dispatchEvent(n)}}customElements.define("theme-toggle",Z);class z extends HTMLElement{openBtn;closeBtn;dialog;dialogFrame;constructor(){super(),this.openBtn=this.querySelector("button[data-open-modal]"),this.closeBtn=this.querySelector("button[data-close-modal]"),this.dialog=this.querySelector("dialog"),this.dialogFrame=this.querySelector(".dialog-frame"),this.openBtn.addEventListener("click",this.openModal),this.openBtn.disabled=!1,this.closeBtn.addEventListener("click",this.closeModal)}connectedCallback(){window.addEventListener("keydown",this.onWindowKeydown),(window.requestIdleCallback||(n=>setTimeout(n,1)))(async()=>{const{PagefindUI:n}=await l(()=>import("./ui-core.mk9kqFNE.js"),__vite__mapDeps([]));new n({element:"#cactus__search",baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",showImages:!1,showSubResults:!0})})}disconnectedCallback(){window.removeEventListener("keydown",this.onWindowKeydown)}onWindowClick=t=>{("href"in(t.target||{})||document.body.contains(t.target)&&!this.dialogFrame.contains(t.target))&&this.closeModal()};onWindowKeydown=t=>{t.key==="/"&&!this.dialog.open&&(this.openModal(),t.preventDefault())};openModal=t=>{this.dialog.showModal(),this.querySelector("input")?.focus(),t?.stopPropagation(),window.addEventListener("click",this.onWindowClick)};closeModal=()=>{this.dialog.open&&(this.dialog.close(),window.removeEventListener("click",this.onWindowClick))}}customElements.define("site-search",z);export{b as H,l as _,oe as a,Q as b,te as c,X as e,ee as i,c as m,ne as r,m as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
