function C(e,t){e.classList.toggle(t)}function M(e,t){return e.classList.contains(t)}function y(){return M(document.documentElement,"dark")}const $="modulepreload",I=function(e){return"/"+e},_={},s=function(t,n,o){let c=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");c=Promise.all(n.map(r=>{if(r=I(r),r in _)return;_[r]=!0;const d=r.endsWith(".css"),A=d?'[rel="stylesheet"]':"";if(!!o)for(let f=i.length-1;f>=0;f--){const p=i[f];if(p.href===r&&(!d||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${A}`))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":$,d||(l.as="script",l.crossOrigin=""),l.href=r,document.head.appendChild(l),d)return new Promise((f,p)=>{l.addEventListener("load",f),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${r}`)))})}))}return c.then(()=>t()).catch(i=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i})};typeof process<"u"&&process.stdout&&process.stdout.isTTY;const{replace:O}="",k=/[&<>'"]/g,P={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},D=e=>P[e],B=e=>O.call(e,k,D);function X(e){return!!e&&typeof e=="object"&&typeof e.then=="function"}async function*H(e){const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)return;yield o}}finally{t.releaseLock()}}const ee=B;class T extends Uint8Array{}Object.defineProperty(T.prototype,Symbol.toStringTag,{get(){return"HTMLBytes"}});class b extends String{get[Symbol.toStringTag](){return"HTMLString"}}const a=e=>e instanceof b?e:typeof e=="string"?new b(e):e;function te(e){return Object.prototype.toString.call(e)==="[object HTMLString]"}function x(e){return new T(e)}function L(e){return typeof e.getReader=="function"}async function*E(e){if(L(e))for await(const t of H(e))yield m(t);else for await(const t of e)yield m(t)}function*V(e){for(const t of e)yield m(t)}function m(e){if(e&&typeof e=="object"){if(e instanceof Uint8Array)return x(e);if(e instanceof Response&&e.body){const t=e.body;return E(t)}else{if(typeof e.then=="function")return Promise.resolve(e).then(t=>m(t));if(e[Symbol.for("astro:slot-string")])return e;if(Symbol.iterator in e)return V(e);if(Symbol.asyncIterator in e||L(e))return E(e)}}return a(e)}function v(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=v(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function j(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=v(e))&&(o&&(o+=" "),o+=t);return o}const q=/^(?:allowfullscreen|async|autofocus|autoplay|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|itemscope)$/i,U=/^(?:contenteditable|draggable|spellcheck|value)$/i,W=/^(?:autoReverse|externalResourcesRequired|focusable|preserveAlpha)$/i,G=new Set(["set:html","set:text"]),u=(e,t=!0)=>t?String(e).replace(/&/g,"&#38;").replace(/"/g,"&#34;"):e,F=e=>e.toLowerCase()===e?e:e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),w=e=>Object.entries(e).filter(([t,n])=>typeof n=="string"&&n.trim()||typeof n=="number").map(([t,n])=>t[0]!=="-"&&t[1]!=="-"?`${F(t)}:${n}`:`${t}:${n}`).join(";");function ne(e,t,n=!0){if(e==null)return"";if(e===!1)return U.test(t)||W.test(t)?a(` ${t}="false"`):"";if(G.has(t))return console.warn(`[astro] The "${t}" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.

Make sure to use the static attribute syntax (\`${t}={value}\`) instead of the dynamic spread syntax (\`{...{ "${t}": value }}\`).`),"";if(t==="class:list"){const o=u(j(e),n);return o===""?"":a(` ${t.slice(0,-5)}="${o}"`)}if(t==="style"&&!(e instanceof b)){if(Array.isArray(e)&&e.length===2)return a(` ${t}="${u(`${w(e[0])};${e[1]}`,n)}"`);if(typeof e=="object")return a(` ${t}="${u(w(e),n)}"`)}return t==="className"?a(` class="${u(e,n)}"`):typeof e=="string"&&e.includes("&")&&N(e)?a(` ${t}="${u(e,!1)}"`):e===!0&&(t.startsWith("data-")||q.test(t))?a(` ${t}`):a(` ${t}="${u(e,n)}"`)}function oe(e){const t=[],n={write:c=>t.push(c)},o=e(n);return Promise.resolve(o).catch(()=>{}),{async renderToFinalDestination(c){for(const i of t)c.write(i);n.write=i=>c.write(i),await o}}}typeof process<"u"&&Object.prototype.toString.call(process);function N(e){try{return new URL(e),!0}catch{return!1}}new TextEncoder;new TextDecoder;function re(e){return!!e&&typeof e=="object"&&"render"in e&&typeof e.render=="function"}"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("").reduce((e,t)=>(e[t.charCodeAt(0)]=t,e),[]);"-0123456789_".split("").reduce((e,t)=>(e[t.charCodeAt(0)]=t,e),[]);function h({globResult:e,contentDir:t}){const n={};for(const o in e){const i=o.replace(new RegExp(`^${t}`),"").split("/");if(i.length<=1)continue;const r=i[0];n[r]??={},n[r][o]=e[o]}return n}const g="/src/content/",S=Object.assign({"/src/content/post/building-gpu-service-1.md":()=>s(()=>import("./building-gpu-service-1.g8RF_KlR.js"),__vite__mapDeps([])),"/src/content/post/building-gpu-service-2.md":()=>s(()=>import("./building-gpu-service-2.hHf1hGQ8.js"),__vite__mapDeps([])),"/src/content/post/building-gpu-service-3.md":()=>s(()=>import("./building-gpu-service-3.yb2UCeN0.js"),__vite__mapDeps([])),"/src/content/post/ceph-mds.md":()=>s(()=>import("./ceph-mds.HjegPZ29.js"),__vite__mapDeps([])),"/src/content/post/golang-http-url.md":()=>s(()=>import("./golang-http-url.LQXcq2Z_.js"),__vite__mapDeps([])),"/src/content/post/reduce-image-size.md":()=>s(()=>import("./reduce-image-size.8nNs_e11.js"),__vite__mapDeps([]))});h({globResult:S,contentDir:g});const R=Object.assign({});h({globResult:R,contentDir:g});h({globResult:{...S,...R},contentDir:g});const K=Object.assign({"/src/content/post/building-gpu-service-1.md":()=>s(()=>import("./building-gpu-service-1.yIQprGU5.js"),__vite__mapDeps([])),"/src/content/post/building-gpu-service-2.md":()=>s(()=>import("./building-gpu-service-2.f8q57GY8.js"),__vite__mapDeps([])),"/src/content/post/building-gpu-service-3.md":()=>s(()=>import("./building-gpu-service-3.yS2TSoSN.js"),__vite__mapDeps([])),"/src/content/post/ceph-mds.md":()=>s(()=>import("./ceph-mds.b8heIXSY.js"),__vite__mapDeps([])),"/src/content/post/golang-http-url.md":()=>s(()=>import("./golang-http-url.WdcMq-wD.js"),__vite__mapDeps([])),"/src/content/post/reduce-image-size.md":()=>s(()=>import("./reduce-image-size.-m5GfRWN.js"),__vite__mapDeps([]))});h({globResult:K,contentDir:g});console.warn("astro:content is only supported running server-side. Using it in the browser will lead to bloated bundles and slow down page load. In the future it will not be supported.");const z="https://astro-cactus.chriswilliams.dev/";new URL(z).hostname;class Y extends HTMLElement{headerEl;mobileButtonEl;menuOpen;constructor(){super(),this.headerEl=document.getElementById("main-header"),this.mobileButtonEl=this.querySelector("button"),this.menuOpen=!1,this.mobileButtonEl.addEventListener("click",this.toggleMobileMenu)}toggleMobileMenu=()=>{C(this.headerEl,"menu-open"),this.menuOpen=!this.menuOpen,this.mobileButtonEl.setAttribute("aria-expanded",this.menuOpen.toString())}}customElements.define("mobile-button",Y);class Z extends HTMLElement{button;observer;constructor(){super(),this.button=this.querySelector("button"),this.observer=null,this.button.setAttribute("aria-pressed",String(y())),this.button.addEventListener("click",this.handleThemeBtnClick)}connectedCallback(){const t=document.documentElement;this.observer=new MutationObserver(n=>{for(const o of n)if(o.type==="attributes"&&o.attributeName==="class"){const c=o.target.classList.contains("dark");this.button.setAttribute("aria-pressed",String(c))}}),this.observer.observe(t,{attributeFilter:["class"]})}disconnectedCallback(){this.observer?.disconnect()}handleThemeBtnClick=()=>{let t=y(),n=new CustomEvent("theme-change",{detail:{theme:t?"light":"dark"}});document.dispatchEvent(n)}}customElements.define("theme-toggle",Z);class J extends HTMLElement{openBtn;closeBtn;dialog;dialogFrame;constructor(){super(),this.openBtn=this.querySelector("button[data-open-modal]"),this.closeBtn=this.querySelector("button[data-close-modal]"),this.dialog=this.querySelector("dialog"),this.dialogFrame=this.querySelector(".dialog-frame"),this.openBtn.addEventListener("click",this.openModal),this.openBtn.disabled=!1,this.closeBtn.addEventListener("click",this.closeModal)}connectedCallback(){window.addEventListener("keydown",this.onWindowKeydown),(window.requestIdleCallback||(n=>setTimeout(n,1)))(async()=>{const{PagefindUI:n}=await s(()=>import("./ui-core.GXjizjFa.js"),__vite__mapDeps([]));new n({element:"#cactus__search",baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",showImages:!1,showSubResults:!0})})}disconnectedCallback(){window.removeEventListener("keydown",this.onWindowKeydown)}onWindowClick=t=>{("href"in(t.target||{})||document.body.contains(t.target)&&!this.dialogFrame.contains(t.target))&&this.closeModal()};onWindowKeydown=t=>{t.key==="/"&&!this.dialog.open&&(this.openModal(),t.preventDefault())};openModal=t=>{this.dialog.showModal(),this.querySelector("input")?.focus(),t?.stopPropagation(),window.addEventListener("click",this.onWindowClick)};closeModal=()=>{this.dialog.open&&(this.dialog.close(),window.removeEventListener("click",this.onWindowClick))}}customElements.define("site-search",J);export{b as H,s as _,re as a,X as b,ne as c,ee as e,te as i,a as m,oe as r,m as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
