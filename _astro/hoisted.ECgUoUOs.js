function T(e,t){e.classList.toggle(t)}function S(e,t){return e.classList.contains(t)}function p(){return S(document.documentElement,"dark")}const _="modulepreload",M=function(e){return"/"+e},g={},d=function(t,n,s){let c=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");c=Promise.all(n.map(o=>{if(o=M(o),o in g)return;g[o]=!0;const l=o.endsWith(".css"),L=l?'[rel="stylesheet"]':"";if(!!s)for(let a=i.length-1;a>=0;a--){const u=i[a];if(u.href===o&&(!l||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${L}`))return;const r=document.createElement("link");if(r.rel=l?"stylesheet":_,l||(r.as="script",r.crossOrigin=""),r.href=o,document.head.appendChild(r),l)return new Promise((a,u)=>{r.addEventListener("load",a),r.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})}))}return c.then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};typeof process<"u"&&process.stdout&&process.stdout.isTTY;const{replace:R}="",C=/[&<>'"]/g,B={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},O=e=>B[e],H=e=>R.call(e,C,O);function V(e){return!!e&&typeof e=="object"&&typeof e.then=="function"}async function*I(e){const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)return;yield s}}finally{t.releaseLock()}}const $=H;class E extends Uint8Array{}Object.defineProperty(E.prototype,Symbol.toStringTag,{get(){return"HTMLBytes"}});class b extends String{get[Symbol.toStringTag](){return"HTMLString"}}const P=e=>e instanceof b?e:typeof e=="string"?new b(e):e;function F(e){return Object.prototype.toString.call(e)==="[object HTMLString]"}function D(e){return new E(e)}function w(e){return typeof e.getReader=="function"}async function*y(e){if(w(e))for await(const t of I(e))yield h(t);else for await(const t of e)yield h(t)}function*A(e){for(const t of e)yield h(t)}function h(e){if(e&&typeof e=="object"){if(e instanceof Uint8Array)return D(e);if(e instanceof Response&&e.body){const t=e.body;return y(t)}else{if(typeof e.then=="function")return Promise.resolve(e).then(t=>h(t));if(Symbol.iterator in e)return A(e);if(Symbol.asyncIterator in e||w(e))return y(e)}}return P(e)}new TextEncoder;new TextDecoder;function N(e){return!!e&&typeof e=="object"&&"render"in e&&typeof e.render=="function"}function m({globResult:e,contentDir:t}){const n={};for(const s in e){const i=s.replace(new RegExp(`^${t}`),"").split("/");if(i.length<=1)continue;const o=i[0];n[o]??={},n[o][s]=e[s]}return n}const f="/src/content/",k=Object.assign({"/src/content/post/building-gpu-service-1.md":()=>d(()=>import("./building-gpu-service-1.CBRIApiR.js"),__vite__mapDeps([])),"/src/content/post/ceph-mds.md":()=>d(()=>import("./ceph-mds.HjegPZ29.js"),__vite__mapDeps([]))});m({globResult:k,contentDir:f});const v=Object.assign({});m({globResult:v,contentDir:f});m({globResult:{...k,...v},contentDir:f});const q=Object.assign({"/src/content/post/building-gpu-service-1.md":()=>d(()=>import("./building-gpu-service-1.e3GCERDE.js"),__vite__mapDeps([])),"/src/content/post/ceph-mds.md":()=>d(()=>import("./ceph-mds.UGu2ktN5.js"),__vite__mapDeps([]))});m({globResult:q,contentDir:f});const x="https://astro-cactus.chriswilliams.dev/";new URL(x).hostname;class U extends HTMLElement{headerEl;mobileButtonEl;menuOpen;constructor(){super(),this.headerEl=document.getElementById("main-header"),this.mobileButtonEl=this.querySelector("button"),this.menuOpen=!1,this.mobileButtonEl.addEventListener("click",this.toggleMobileMenu)}toggleMobileMenu=()=>{T(this.headerEl,"menu-open"),this.menuOpen=!this.menuOpen,this.mobileButtonEl.setAttribute("aria-expanded",this.menuOpen.toString())}}customElements.define("mobile-button",U);class W extends HTMLElement{button;observer;constructor(){super(),this.button=this.querySelector("button"),this.observer=null,this.button.setAttribute("aria-pressed",String(p())),this.button.addEventListener("click",this.handleThemeBtnClick)}connectedCallback(){const t=document.documentElement;this.observer=new MutationObserver(n=>{for(const s of n)if(s.type==="attributes"&&s.attributeName==="class"){const c=s.target.classList.contains("dark");this.button.setAttribute("aria-pressed",String(c))}}),this.observer.observe(t,{attributeFilter:["class"]})}disconnectedCallback(){this.observer?.disconnect()}handleThemeBtnClick=()=>{let t=p(),n=new CustomEvent("theme-change",{detail:{theme:t?"light":"dark"}});document.dispatchEvent(n)}}customElements.define("theme-toggle",W);class j extends HTMLElement{openBtn;closeBtn;dialog;dialogFrame;constructor(){super(),this.openBtn=this.querySelector("button[data-open-modal]"),this.closeBtn=this.querySelector("button[data-close-modal]"),this.dialog=this.querySelector("dialog"),this.dialogFrame=this.querySelector(".dialog-frame"),this.openBtn.addEventListener("click",this.openModal),this.openBtn.disabled=!1,this.closeBtn.addEventListener("click",this.closeModal)}connectedCallback(){window.addEventListener("keydown",this.onWindowKeydown),(window.requestIdleCallback||(n=>setTimeout(n,1)))(async()=>{const{PagefindUI:n}=await d(()=>import("./ui-core.smmsFbLi.js"),__vite__mapDeps([]));new n({element:"#cactus__search",baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",showImages:!1,showSubResults:!0})})}disconnectedCallback(){window.removeEventListener("keydown",this.onWindowKeydown)}onWindowClick=t=>{("href"in(t.target||{})||document.body.contains(t.target)&&!this.dialogFrame.contains(t.target))&&this.closeModal()};onWindowKeydown=t=>{t.key==="/"&&!this.dialog.open&&(this.openModal(),t.preventDefault())};openModal=t=>{this.dialog.showModal(),this.querySelector("input")?.focus(),t?.stopPropagation(),window.addEventListener("click",this.onWindowClick)};closeModal=()=>{this.dialog.open&&(this.dialog.close(),window.removeEventListener("click",this.onWindowClick))}}customElements.define("site-search",j);export{b as H,d as _,N as a,V as b,$ as e,F as i,P as m,h as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
